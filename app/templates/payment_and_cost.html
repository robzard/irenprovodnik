<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Стоимость и оплата курса - Онлайн-школа by Teyla</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://unpkg.com/feather-icons"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">

    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f9fa;
        }
        .price-card, .payment-card {
            margin-bottom: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .price-card .card-img-top, .payment-card .card-img-top {
            height: 200px;
            max-width: 300px;
            object-fit: cover;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
        }
        .price-card .card-body, .payment-card .card-body {
            max-height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .price-value {
            font-size: 18px; /* Устанавливает размер шрифта */
            color: #4CAF50; /* Зелёный цвет */
            font-weight: bold; /* Жирное начертание */
            font-family: 'Roboto', sans-serif; /* Использование шрифта Roboto */
        }


        .price-card .card-body {
            display: flex;
            flex-direction: column;
            justify-content: center; /* Центрирование содержимого по вертикали */
            align-items: center; /* Центрирование содержимого по горизонтали */
            text-align: center; /* Центрирование текста для элементов внутри */
            height: auto; /* Или установите фиксированную высоту, если нужно */
        }

        .payment-card {
            width: 100%; /* Чтобы карточка занимала всю доступную ширину */
            margin-bottom: 30px; /* Отступ между карточками */
        }


    </style>
</head>
<body>
<div class="container py-5">
    <h2 class="text-center mb-4">Стоимость курса</h2>
    <div class="row">
        <div class="col-12 d-flex justify-content-center">
            <div class="price-card">
                <img src="{{ url_for('static', filename='images/' + course_name_id + '.jpg') }}" class="card-img-top"
                     alt="{{ course_name }}">
                <div class="card-body">
                    <h5 class="card-title">Курс "{{ course_name }}"</h5>
                    <p class="card-text price-value">{{ course_cost }}₽</p>
                </div>
            </div>
        </div>
    </div>

    <h3 class="text-center mb-4 mt-4">Способы оплаты </h3>
    <div class="row justify-content-center">
        <div class="col-12 col-md-4 d-flex align-items-stretch">
            <div class="payment-card">
                <div class="card-body" onclick="navigateToSite('https://teylaschool.getcourse.ru/{{ url_path }}')">
                    <h5 class="card-title"><i data-feather="lock"></i> Забронировать место</h5>
                    <p class="card-text">Чтобы забронировать место на курсе, нужно <b>внести предоплату 2 000 рублей</b>, а
                        оставшуюся сумму можно внести до старта курса.</p>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-4 d-flex align-items-stretch">
            <div class="payment-card" onclick="navigateToSite('https://www.teylaschool.ru/rassrochka')">
                <div class="card-body">
                    <h5 class="card-title"><i data-feather="calendar"></i> Оформить рассрочку</h5>
                    <p class="card-text">
                        <b>Рассрочка только для граждан РФ.</b><br>
                        Оформить в рассрочку можно на 3, 6 или 10 месяцев. Рассрочка без переплаты и
                        без первого взноса. <b>Вы выплачиваете только сумму курса, а % за вас платит школа.</b>
                        Например, стоимость курса {{ course_cost }} рублей, оформляете рассрочку на 10 месяцев = {{
                        monthly_payment }} рублей ежемесячный платеж. <b>Первый платеж только через месяц, сразу вносить
                        оплату не нужно.</b>
                    </p>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-4 d-flex align-items-stretch">
            <div class="payment-card" onclick="navigateToSite('https://t.me/Teylaschool')">
                <div class="card-body">
                    <h5 class="card-title"><i data-feather="calendar"></i> Оформить рассрочку от школы</h5>
                    <p class="card-text">
                        <b>Рассрочка только для граждан РФ.</b><br>
                        Внутренняя рассрочка от школы.
                        Между учеником и школой заключаются договор, где прописаны сроки оплаты.
                        <b>До старта курса нужно внести 30% от суммы курса и оставшаяся сумма распределяется на 2-3
                        платежа</b>, зависит от выбранного курса.
                        Подробности можно узнать у <a href="https://t.me/Teylaschool">менеджера</a> школы.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-4 d-flex align-items-stretch">
            <div class="payment-card" onclick="navigateToSite('https://teylaschool.getcourse.ru/{{ url_path }}')">
                <div class="card-body">
                    <h5 class="card-title"><i data-feather="dollar-sign"></i> Внести полную оплату</h5>
                    <p class="card-text">Оплата полной стоимости курса одним платежом. <b>Оплатить можно картой банка любой
                        страны.</b></p>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>feather.replace()</script>
<script>

    var courseName;
    var domenWebApp;

    document.addEventListener('DOMContentLoaded', function() {
        if (window.Telegram.WebApp) {
            let courseName = "{{ course_name }}";

            // Настройка кнопки отправки через Telegram Web App
            Telegram.WebApp.MainButton.setText('Выбрать способ оплаты');
            Telegram.WebApp.MainButton.show();
            Telegram.WebApp.MainButton.onClick(() => {
                sendInfo('купить курс - ' + courseName);
            });
        }
    });

    function sendInfo(msg) {
        let domenWebApp = "{{ domen_web_app }}";
        const webAppQueryId = Telegram.WebApp.initDataUnsafe.query_id;
        fetch('https://'+ domenWebApp + '.ru/send-data', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            web_app_query_id: webAppQueryId,
            data: msg
          })
        });
    }

    function navigateToSite(url) {
        window.open(url, '_blank');
      }
</script>


</body>
</html>
